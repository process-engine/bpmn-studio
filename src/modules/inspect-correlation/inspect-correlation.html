<template>
  <require from="./inspect-correlation.css"></require>
  <div class="inspect-correlation__view">
    <div class="inspect-correlation__correlations">
      <table class="inspect-correlation__correlation-table">
        <thead>
          <tr class="inspect-correlation__correlation-table-headlines">
            <th>Number</th>
            <th>Started at</th>
            <th>Status</th>
            <th>User</th>
          </tr>
        </thead class="inspect-correlation__table-header">
        <tbody class="inspect-correlation__correlation-table-body">
          <tr repeat.for="correlation of processModelCorrelations"click.delegate="selectCorrelation(correlation)">
            <td>${correlation.id}</td>
            <td>00.00.0000 00:00</td>
            <td>Finished</td>
            <td>No User</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="inspect-correlation__correlation-data" show.bind="correlationSelected">
      <div class="inspect-correlation__diagramViewer"  class.bind="showDiagram ? '' : 'inspect-correlation__viewer__hide-data'">
        <span class="inspect-correlation__viewer-headline" click.delegate="toggleDiagramVisibility()">
          <i class="fas" class.bind="showDiagram ? 'fa-caret-down' : 'fa-caret-right'"></i> Diagram</span>
        <div ref="canvasModel" class="inspect-correlation__viewer-body" class.bind="showDiagram ? '' : 'inspect-correlation__diagram-canvas__hide'"></div>
      </div>
      <div class="inspect-correlation__tokenViewer" class.bind="showToken ? '' : 'inspect-correlation__viewer__hide-data'">
        <span class="inspect-correlation__viewer-headline" click.delegate="toggleTokenVisibility()">
          <i class="fas" class.bind="showToken ? 'fa-caret-down' : 'fa-caret-right'"></i> Token
        </span>
        <div class="inspect-correlation__viewer-body inspect-correlation__viewer-body__left-space">${currentToken}</div>
      </div>
      <div class="inspect-correlation__logViewer" class.bind="showLog ? '' : 'inspect-correlation__viewer__hide-data'">
        <span class="inspect-correlation__viewer-headline"  click.delegate="toggleLogVisibility()">
          <i class="fas" class.bind="showLog ? 'fa-caret-down' : 'fa-caret-right'"></i> Log
        </span>
        <div class="inspect-correlation__viewer-body inspect-correlation__viewer-body__left-space">${currentLog}</div>
      </div>
    </div>
  </div>
</template>
