<template>
  <require from="./user-login.css"></require>
  <div class="user-login">
    <a href="#" class="user-login-dropdown__toggle" click.delegate="toggleDropdown()">
      <span>${identity ? identity.name : 'Guest'} </span>
      <i class="fa fa-caret-down"></i>
    </a>
  </div>
  <div class="user-login-dropdown" if.bind="dropdownIsOpen">
    <div class="user-login-dropdown__content">
      <div if.bind="!isLoggedIn">
        <label for="loginUsername">Username</label>
        <input id="loginUsername" class="form-control" type="text" value.bind="username" placeholder="Username" />

        <label for="loginPassword">Password</label>
        <input id="loginPassword" class="form-control" type="password" value.bind="password" placeholder="Password" />

        <p if.bind="loginError" class="text-danger"><b>Error</b>: ${loginError}</p>
        <button class="login-button" click.delegate="login()">Login</button>
      </div>
      <button if.bind="isLoggedIn" class="btn btn-danger pull-right" click.delegate="logout()">Logout</button>
    </div>
  </div>

</template>
