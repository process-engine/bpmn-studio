<template>
  <require from="./solution-explorer-list.css"></require>
  <require from="../solution-explorer-solution/solution-explorer-solution"></require>

  <div class="solution-explorer-list">

    <div class="solution-list">
      <div repeat.for="solutionEntry of openedSolutions" class="solution-entry">

        <div class="solution-entry__header" title="${solutionEntry.uri}">

          <i class="fa ${solutionEntry.fontAwesomeIconClass} solution-entry__header__icon"></i>

          <span class="solution-entry__header__name">${solutionEntry.uri}</span>

          <div class="solution-entry__header__actions">
              <button
                class="button"
                if.bind="solutionEntry.canCreateNewDiagramsInSolution"
                click.delegate="createDiagram(solutionEntry.uri)"
                title="Create a new diagram">

                <i class="fa fa-file-medical"></i>
              </button>
              <button
                class="button"
                if.bind="solutionEntry.canCloseSolution"
                click.delegate="closeSolution(solutionEntry.uri)"
                title="Close the solution">

                <i class="fa fa-times"></i>
              </button>
          </div>

        </div>

        <solution-explorer-solution
          displayed-solution-entry.bind="solutionEntry"
          solution-service.bind="solutionEntry.service"
          solution-is-single-diagrams.bind="solutionEntry.isSingleDiagramService"
          current-opened-root-solution-uri.bind="currentOpenedRootSolutionUri"
          view-model.ref="solutionEntryViewModels[solutionEntry.uri]"
          click.delegate="setNewRootSolutionId(solutionEntry)">
        </solution-explorer-solution>
      </div>
    </div>

  </div>
</template>
