<template>
  <require from="./solution-explorer-list.css"></require>
  <require from="../solution-explorer-solution/solution-explorer-solution"></require>

  <div class="solution-explorer-list">

    <div class="solution-list">
      <div repeat.for="solutionEntry of openedSolutions" class="solution-entry" click.delegate="moveSelection(solutionEntry, $event)">

        <div class="solution-entry__header" title="${solutionEntry.uri}">

          <i show.bind="shouldDisplaySwapIcon" class="fas fa-arrows-alt-v solution-entry__header__swap-icon"></i>
          <i class="fa ${solutionEntry.fontAwesomeIconClass} solution-entry__header__icon"></i>

          <span class="solution-entry__header__name">${solutionEntry.uri}</span>

          <div class="solution-entry__header__actions">
              <button
                if.bind="solutionEntry.canCreateNewDiagramsInSolution"
                click.delegate="createDiagram(solutionEntry.uri)"
                title="Create a new diagram">

                <i class="fa fa-file-medical"></i>
              </button>
              <button
                if.bind="solutionEntry.canCloseSolution"
                click.delegate="closeSolution(solutionEntry.uri)"
                title="Close the solution">

                <i class="fa fa-times"></i>
              </button>
          </div>

        </div>

        <solution-explorer-solution
          solution-service.bind="solutionEntry.service"
          solution-is-single-diagrams.bind="solutionEntry.isSingleDiagramService"
          view-model.ref="solutionEntryViewModels[solutionEntry.uri]">
        </solution-explorer-solution>
      </div>
    </div>

  </div>
</template>
